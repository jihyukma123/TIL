# JavaScript Array.prototype.reduce()를 하나의 element를 가진 배열에 대해서 호출하는 경우의 처리

**문제**

아래 코드에서 result에 대해서 기대하는 값 type이 number였는데, arr길이가 1인 경우(요소가 하나인 경우) string으로 처리되었다.

```javascript
const arr = ["1"];

const sum = arr.reduce((a, b) => Number(a) + Number(b));

const result = 1 + sum;
```

원인을 찾기 위해서 [mdn문서](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)를 읽어보니 아래와 같은 내용이 있더라.

> 배열이 비어있는데 initialValue도 제공하지 않으면 TypeError가 발생합니다. 배열의 요소가 (위치와 관계없이) 하나 뿐이면서 initialValue를 제공되지 않은 경우, 또는 initialValue는 주어졌으나 배열이 빈 경우엔 그 단독 값을 callback 호출 없이 반환합니다.

즉,

- 빈 배열에 대해서 reduce를 initialValue 없이 호출하면 TypeError발생.
- 배열의 요소가 하나 뿐이면서 initialValue가 제공되지 않은 경우 (_내 경우_) callback 호출 없이 단독값을 반환
- initialValue가 주어졌으나 배열이 빈 경우, callback호출 없이 initialValue 반환

```javascript
const emptyArr = [];
const oneElementArr = [1];

const result = emptyArr.reduce((a, b) => a + b, 10);
const result2 = oneElementArr.reduce((a, b) => a + b);
console.log(result); // 10 - initialValue 반환
console.log(result2); // 1 - 배열의 유일한 요소 반환
```

# 공부하면서 모르는 부분

**fs 모듈?**

fs - file system

컴퓨터의 파일 시스템과 상호작용하기 위한 기능을 제공한다.

파일에 쓰기 읽기 삭제 등 작업을 수행할 수 있음.

# 코테 공부하면서 느낀 점

코테 공부를 하면서 평소에 개발할 때도 접목시킬 수 있는 다양한 능력을 기르는 것이 중요하다고 생각한다.

오늘 그런 부분들 중 하나에 대한 생각이 들어 정리해두려고 한다. 문제를 풀려고 생각해보는 과정에서, 어느정도 계획을 세우고 막 코드를 치기 시작하기 직전에, `내가 놓친게 없을까?`하는 생각이 들었다.

이런 생각은 가끔 문득 드는 것이 아니라, 습관적으로 해야되는 종류의 생각이라고 느꼈다.

회사에서 개발을 할 때도, 계획과 설계를 하고 개발을 하려고 노력한다. 하지만 지금까지는 사소하게라도 놓치는 부분이 있어 중간에 다시 한번 수정을 하거나, 기획적으로 디테일한 의사결정을 다시 하거나 하는 경우들이 항상 있었다.

내가 기획문서와 피그마를 받고, 앞단에서 계획과 설계를 하는 과정에서 `내가 놓친게 없을까`, `엣지케이스라던지 특이사항은 무엇일까?`, `이 프로젝트에서 더 중요한 부분과 덜 중요한 부분이 무엇일까?` 하는 질문을 해야겠다는 생각이 든다.

그렇다면 어떻게 이런 질문들을 적절한 타이밍에, 놓치지 않고 던져서 문제를 더 잘, 효율적으로 해결할 수 있을까?

액션플랜이 뭐가 있을까?

노션에 업무 프로세스별로 수행해야되는 체크리스트를 만들어서 매 프로젝트마다 수행하자.

그리고 데일리 basis로도 업무를 더 체계적으로 수행할 수 있는 방법을 찾는 것이 필요하다.
