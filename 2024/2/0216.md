# (이어서..) 배터리 최적화 옵션 체크하는 안드 모듈 생성

PowerManager를 통해서 현재 배터리 최적화 옵션을 사용중인지 여부를 확인하는 모듈을 만들었음.

근데 문제가 있다.

모듈을 연결해서 메서드를 JavaScript 사이드에서 호출했을 때 값이 undefined로 반환된다.

그래서 안드로이드 사이드에서 값이 제대로 처리되지 않는 것인가 해서 로그를 찍어봤는데 네이티브 모듈에서 값 자체는 잘 처리된다. 다만 JavaScript로 넘어갈 때 이슈가 있음.

## Callback에 promise를 전달한다?

Callback에 promise를 전달해서 해당 promise의 resolve 함수에 값을 전달하면 JavaScript에서 값이 잘 받아지는 것을 확인하였음.

왜 이렇게 처리해야되는지는 조금 더 공부가 필요한 상태. 오늘 저녁에 알아보자.

- Promise 콜백이란?
- Promise callback에 대해서 resolve메서드에 값을 전달하는 것의 의미?
- Error handling?

## Error Handling이 되어야 한다.

상용 프로젝트에 적용하려면 에러처리가 되어야 한다.

## 기타 알게 된 사항

- [Build 클래스](https://developer.android.com/reference/android/os/Build)의 `VERSION_SDK_INT` 프로퍼티를 통해서 앱의 빌드 버전을 알 수 있는 듯 하다. 그리고 `VERSION_CODES` 프로퍼티를 통해서 여러 가지 버전을 의미하는 상수에 접근할 수 있음(예를 들어, `Build.VERSION_CODES.M`은 안드로이드 6.0인 마시멜로우를 뜻함.
- Context가 무엇을 의미하는지 잘 모르겠다. 그래서 `getReactApplicationContext` 메서드가 항상 잘 동작하리라는 보장이 없다는 이슈가 있음. 이해하고 사용해야 한다.
