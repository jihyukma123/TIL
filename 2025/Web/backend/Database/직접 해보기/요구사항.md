# 자산관리 프로젝트 요구사항 뽑아보기.

영한쌤이 요구사항 면밀히 분석해서 어떤 데이터들이 필요한지 뽑아내고, 이 데이터를 어떻게 저장할 것인지를 이해관계자들과 논의해서 결정하는 단계가 개념적 설계 단계라고 했음.

그래서 요구사항부터 제대로 뽑아보고 시작하려고 함.

## 제미나이랑 얘기하면서.

네, 맞습니다!

말씀하신 "**사용자는 자산과 부채를 기록할 수 있어야 한다**"는 요구사항은 이제 우리가 정의해야 할 **기능적 요구사항(Functional Requirement)**의 완벽한 예시입니다.

이러한 방식으로, 앞서 도출한 4가지 핵심 항목을 구체적이고 시스템적인 요구사항으로 정리하면 다음과 같습니다. 이 요구사항들은 곧 데이터베이스 **개념적 설계(핵심 엔티티 정의)**로 직결됩니다.

---

## 자산 관리 앱의 기능적 요구사항 (DB 설계의 기반)

### 1. 자산 현황 기록 및 관리 요구사항

| ID    | 요구사항 내용                                                                                                            | DB 설계에 미치는 영향                                                 |
| :---- | :----------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------- |
| FR1.1 | 사용자는 **은행, 현금, 주식, 암호화폐, 부동산** 등 다양한 종류의 **자산 및 부채 항목**을 등록하고 관리할 수 있어야 한다. | `자산/부채` 엔티티 정의 (종류, 이름, 고유 ID)                         |
| FR1.2 | 사용자는 등록된 각 자산/부채 항목의 **초기 잔액 또는 현재 가치**를 입력할 수 있어야 한다.                                | `자산/부채` 엔티티에 잔액/가치 **속성(Attribute)** 정의               |
| FR1.3 | 사용자는 비유동적인 자산(예: 부동산)의 **평가 가치**를 수동으로 업데이트할 수 있어야 한다.                               | `자산 가치 기록` 엔티티 또는 `자산` 엔티티 내 가치 업데이트 기능 정의 |

---

### 2. 수입 및 지출 기록 요구사항 (거래 내역)

| ID    | 요구사항 내용                                                                                                 | DB 설계에 미치는 영향                                                   |
| :---- | :------------------------------------------------------------------------------------------------------------ | :---------------------------------------------------------------------- |
| FR2.1 | 사용자는 **수입, 지출, 계좌 간 이체**의 세 가지 거래 유형을 기록할 수 있어야 한다.                            | `거래내역` 엔티티 정의 및 **거래 유형** 속성 포함                       |
| FR2.2 | 사용자는 모든 거래 내역에 대해 **거래 날짜, 금액, 사용 자산 계좌, 거래 카테고리**를 필수적으로 지정해야 한다. | `거래내역` 엔티티와 `자산` 엔티티, `카테고리` 엔티티 간의 **관계** 정의 |
| FR2.3 | 사용자는 거래 내역을 기록할 때 **메모 또는 태그**를 추가하여 상세 정보를 기록할 수 있어야 한다.               | `거래내역` 엔티티에 `메모` 또는 `태그` 속성 정의                        |
| FR2.4 | 사용자는 **정기적/반복적**으로 발생하는 수입 및 지출(예: 월세, 월급)을 자동 기록 설정할 수 있어야 한다.       | `반복 설정` 엔티티 또는 `거래내역` 엔티티 내 반복 주기 속성 추가        |

---

### 3. 보고 및 분석 요구사항

| ID    | 요구사항 내용                                                                                                                     | DB 설계에 미치는 영향                                                          |
| :---- | :-------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------- |
| FR3.1 | 사용자는 현재 시점의 **총자산, 총부채, 순자산**을 한눈에 요약하여 볼 수 있어야 한다.                                              | `자산` 및 `부채` 엔티티의 데이터를 집계하고 계산하는 **데이터 모델 구조** 필요 |
| FR3.2 | 사용자는 **월별 또는 연도별** 지출 및 수입 내역을 카테고리별로 분류하여 **파이 차트나 막대 그래프** 형태로 확인할 수 있어야 한다. | `거래내역` 및 `카테고리` 데이터를 기준으로 하는 **조회(Query) 구조** 정의      |
| FR3.3 | 사용자는 설정한 **예산 대비 지출 현황**을 비교 분석할 수 있어야 한다.                                                             | `예산` 엔티티 정의 및 `카테고리`와의 관계 설정                                 |

이처럼 구체적인 요구사항이 도출되면, 개념적 설계 단계에서는 이를 바탕으로 **핵심 엔티티(Entity)**와 **관계(Relationship)**를 정의하는 작업에 들어갈 수 있습니다.

---

와...너무 잘 만들어주는 것 같음 내가 원하는걸 그대로 잘 뽑아준 것 같아.

## 추가로 배운 사항

내가 위에 작성한 내용은 `기능적 요구사항`인데, `비기능적 요구사항`도 앱 만들 때 같이 고려되긴 해야함.

근데 `비기능적 요구사항`도 DB설계 단계에서 같이 고려되어야 할까?

아래와 같은 사항들이 존재한다고는 함.

아주 중요한 질문입니다! 💡

**비기능적 요구사항(NFR)**은 기능적 요구사항(FR)처럼 어느 한 시점에만 고려하는 것이 아니라, 프로젝트의 **전반적인 단계에 걸쳐** 고려되어야 합니다.

하지만 NFR이 데이터베이스 설계에 **가장 구체적이고 직접적인 영향**을 미치는 시점은 바로 **3단계인 물리적 설계 단계**입니다.

---

## 단계별 비기능적 요구사항(NFR) 고려 시점

### 1. 초기 요구사항 분석 단계: **제약 조건 및 목표 설정**

프로젝트 초기에 NFR은 시스템의 **근본적인 제약 조건**을 정의합니다.

- **주요 고려 사항:**
  - **보안:** 다루는 데이터의 민감도(예: 금융 정보, 개인 정보)에 따라 높은 수준의 **보안**이 필요하다는 큰 목표를 설정합니다.
  - **성능:** 시스템이 동시에 **수용해야 하는 최대 사용자 수**나 **트랜잭션 처리 속도**에 대한 초기 기대치를 설정합니다. (예: "결제 요청 응답 시간은 2초를 넘으면 안 된다.")
- **DB 설계 영향:** 이 단계에서 설정된 NFR은 **개념적 설계**를 크게 바꾸지는 않지만, 이후 단계에서 설계의 복잡도와 비용을 예측하는 기초 자료가 됩니다. 만약 성능 요구사항이 매우 높다면, 아키텍처 자체를 변경해야 할 수도 있습니다.

---

### 2. 논리적 설계 단계: **구조적 고려**

개념적 설계(E-R 모델)를 관계형 모델(테이블)로 변환하는 단계에서는 NFR을 **데이터 구조**에 반영하기 시작합니다.

- **주요 고려 사항:**
  - **보안:** 민감한 정보(예: 비밀번호 해시 값)를 저장하기 위한 **특정 필드**의 존재 여부나 **접근 권한** 관리를 위한 필드 등을 고려합니다.
  - **확장성:** 데이터가 매우 빠르게 증가할 것으로 예상되면, 테이블을 **분할(Partitioning)**할 가능성을 염두에 두고 논리적인 구조를 설계할 수 있습니다.
- **DB 설계 영향:** 데이터 모델의 **정규화 수준**을 결정할 때 성능(NFR)을 위해 의도적으로 비정규화를 할지 결정하는 등의 구조적 판단에 영향을 미칩니다.

---

### 3. 물리적 설계 단계: **구체적인 구현**

NFR이 **가장 강력하고 직접적인 영향**을 미치는 단계입니다. 이 단계에서는 논리 모델을 실제 DBMS에 구현하기 위한 세부 사항을 결정합니다.

| NFR 유형                  | DB 물리적 설계에 반영되는 요소                                                                                           |
| :------------------------ | :----------------------------------------------------------------------------------------------------------------------- |
| **성능 (Performance)**    | **인덱스(Index) 생성** 및 최적화, 효율적인 **데이터 타입** 선택, **테이블 분할(Partitioning)** 기법 적용                 |
| **보안 (Security)**       | 민감한 데이터 필드에 대한 **암호화(Encryption)** 적용, **뷰(View)**를 통한 데이터 접근 통제, 사용자별 **접근 권한** 설정 |
| **가용성 (Availability)** | **백업 및 복구(Backup & Recovery)** 전략 정의, **이중화/클러스터링** 방안 선택                                           |
| **저장 용량 (Capacity)**  | 물리적인 **저장 장치** 및 디스크 구성 결정                                                                               |

### 요약

| 단계            | NFR의 역할                                          |
| :-------------- | :-------------------------------------------------- |
| **초기 분석**   | **제약 조건 및 목표** 설정 (Scope 정의)             |
| **논리적 설계** | **데이터 구조**에 NFR을 반영할지 결정               |
| **물리적 설계** | NFR 달성을 위한 **구체적인 기술 및 구현 방식** 결정 |

**핵심은 조기 검토입니다.** NFR을 물리적 설계 단계에서야 처음 고려하게 되면, 성능이나 보안 요구사항이 너무 높아 이미 설계된 구조를 완전히 뒤엎어야 하는 **막대한 재작업(Rework)** 비용이 발생할 수 있습니다. 따라서 **FR과 NFR은 항상 함께** 검토되어야 합니다.
