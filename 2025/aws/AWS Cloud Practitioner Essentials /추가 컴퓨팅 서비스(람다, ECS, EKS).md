# EC2가 만능은 아니다.

다재다능하지만, 인스턴스 관리가 필요함.

그래서 관리가 더 편리한 컴퓨팅 자원이 없을까? -> 서버리스 컴퓨팅 옵션

# 서버리스

서비리스는 마치 서버가 없는 것처럼 자원을 따로 관리할 필요가 없다는 점.
-> 기본 인프라를 보거나 액세스 할 수 없음.

# AWS Lambda

대표적인 서버리스 서비스.

람다는 서비스가 사용자가 코드를 람다 함수라는 곳에 업로드할 수 있게 해주는 서비스로,

트리거를 구성하면 서비스가 트리거를 대기하다가, 트리거 감지되면 코드가 관리형 환경에서 자동으로 실행된다. 자동으로 규모와 가용성이 조정되며 환경 유지관리 책임이 다 AWS한테 있음.

람다는 코드 15분 미만으로 실행하도록 설계되어 있어서 딥러닝 같은 오래 걸리는 작업에는 적합하지 않은 서비스이다.

웹서비스 백엔드 같은 목적에 적절하다.

# AWS ECS, EKS, Fargate

둘 다 컨테이너 오케스트레이션 도구(container는 Docker 컨테이너, Docker는 운영체제 수준의 가상화를 사용해서 컨테이너에 소프트웨어 제공. 참고로 컨테이너란, 애플리케이션과 애플리케이션이 실행해야되는 모든 구성을 모아둔 코드 패키지라고 볼 수 있음.)

컨테이너 또한 EC2 위에서 실행되는거임.

단일 인스턴스 뿐만 아니라, 클러스터라고 부르는 인스턴스 묶음에서 컨테이너의 실행/중지/재시작/모니터링등을 하는 작업이 필요한데, 이를 `컨테이너 오케스트레이션`이라고 함.

ECS

- 자체 컨테이너 오케스트레이션 도구 없이도 대규모로 컨테이너 기반 애플리케이션 대규모로 실행하는데 도움이 되도록 설계

EKS

- ECS와 비슷하지만 다른 도구를 사용함.

ECS/EKS 모두 EC2에서 실행하는거임

근데 만약에 OS에 접속할 필요가 없거나 굳이 EC2인스턴스 직접 컨트롤 할 필요가 없다면..?

AWS Fargate, ECS/EKS용 서버리스 컴퓨팅 플랫폼을 사용해볼 수 있음.

# 정리해보자면...

운영체제에 대한 액세스가 가능해야하면 -> EC2

이벤트기반, 서비스 중심 앱 띄우면서 서버 프로비저닝이나 관리하기 싫다? -> Lambda

AWS에서 docker container 기반 워크로드 실행 시? -> 오케스트레이션 도구 선택 필요 -> ECS/EKS 중에서 선택

ECS/EKS는 도커 컨테이너 관리 도구, 도구를 선택한 다음에는 도구가 실행될 플랫폼을 선택해야 함.

컨테이너를 내가 관리하는 EC2에서 실행할 것인지 아니면 서버리스 플랫폼인 Fargate에서 실행할 것인지?
