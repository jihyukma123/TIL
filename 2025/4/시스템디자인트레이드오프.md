[System Design Was HARD - Until You Knew the Trade-Offs](https://www.youtube.com/watch?v=1nENigGr-a0)

# 시스템디자인 측면에서 존재하는 트레이드오프들 이해하기

기술적인 선택은 어떤 것이 더 낫다라는 측면보다는, 지금 우리가 풀고자 하는 문제, 니즈에 어떤 기술이 더 적합한가를 판단하는 것

# Datamanagement 측면에서 존재하는 트레이드오프

## DataStorage: SQL vs NoSQL

SQL

- 일관성
- 구조화된 스키마
- 강력한 쿼리 관련 기능들

이런 특성들 덕분에 데이터 무결성(데이터가 정확하고 일관되며 신뢰할 수 있는 상태로 유지되는 것)이 보장됨. 데이터를 정교하게 다루는데는 강점이 있다.

하지만 수평적 확장(서버 대수 늘려서 분산 처리 하는 것)을 하기가 NoSQL에 비해서 까다롭다. 왜? 몇 가지 이유가 있는데,

- JOIN연산은 분산 환경에서 비효율적이다. 관계형 DB는 여러 테이블 간 JOIN을 통해 데이터를 얻어오는 경우가 많은데, 테이블들이 여러 서버에 걸쳐서 서로 다른 DB인스턴스에 분산되어 있으면 JOIN을 하기 위해서 서버 간 네트워크 통신이 필요해서 JOIN성능이 나빠짐.
- 여러 인스턴스에서 일관성을 보장하려면 이를 위한 추가 방법이 필요하다.(2-Phase commit같은..)
- 스키마가 고정되어 있어서 확장하면서 필요에 따라 유연하게 쪼개기가 어렵다.

즉, `SQL은 데이터 안정성과 구조적이라는 장점 vs 수평적 확장이 어렵다 라는 트레이드오프 존재`

반대로 `NoSQL은 확장성과 유연성이라는 장점 vs 일관성과 구조, 쿼리능력 부족이라는 트레이드오프 존재`

# (추가) 수직적 확장 vs 수평적 확장

DB의 확장성에 대해서 이야기할 때 사용되는 개념

## 수직적 확장

단일 서버의 성능을 향상시키는 방법으로 cpu, 메모리, 디스크 등 하드웨어 자원 업그레이드해서 처리 능력 높이는 방법

초기 설정이 간단하고, 기존 시스템을 그대로 유지할 수 있다는 장점이 있음.

하지만 비용이 비싸고, 단일 서버의 성능을 향상시키는데는 한계가 있음.

소규모 어플리케이션이나 초기 단계의 프로젝트에는 적합할 수 있지만, 데이터의 양이 급격이 증가하거나 대규모 트래픽을 처리해야되는 경우 한계가 있을 수 있음.

## 수평적 확장

여러 대의 서버를 추가해서 부하를 분산시키는 방법

데이터베이스를 여러 인스턴스로 분산해서 처리 능력을 향상.

확장성이 뛰어나고, 장애 발생 시에도 안정적으로 서비스를 제공할 수 있다는 장점이 있다.

하지만 초기 설정이 복잡하고(여러 대의 서버 설정 및 데이터를 분산시키는 작업이 필요), 데이터 일관성을 유지하기 어려움(여러 인스턴스에서 데이터를 처리하기 때문에)
