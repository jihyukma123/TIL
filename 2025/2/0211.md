# @인화원..

## SOLID에 대한 공부

카카오엔터테인먼트 FE 기술 블로그의 [프론트엔드와 SOLID 원칙](https://fe-developers.kakaoent.com/2023/230330-frontend-solid/)이라는 글을 읽고 배운 내용을 정리해보았다.

일단 `오의`, `기연` 같은 무협지에 등장할만한 단어들이 많아서 바로 글이 마음에 들었음 ㅎㅎ

그리고 나는 프론트엔드에서는 SOLID가 좀 덜 와닿는 느낌이 있다고 생각하고 있었는데 이 글에서는 백엔드 개발자로 일할 때 보다 프론트엔드로 전향한 후에 더 도움이 많이 되었다고 언급하고 있었음... 내가 뭘 보지 못하고 있는 것일까?

## 내가 뭘 이해하지 못하는지에 대한 생각

Single responsibility means that a "unit of code" should have only a "single responsibility". It's hard to grasp because there is no clear definition of "unit of code" or "single responsibility."
-> Reddit에서 SOLID에 대한 내용을 찾다가 읽은 댓글인데 굉장히 공감되었다. 코드의 단위를 어떻게 할 것인지? 그리고 단일책임이라는 것을 어떻게 정의할 것인지?

React를 활용한 앱을 생각해보자.

뭐가 단일책임이지?

만약에 하나의 컴포넌트를 하나의 코드 단위라고 한다면 어떤 컴포넌트가 SRP를 잘 지키는 컴포넌트인가?

어떤 기준으로 SRP를 적용할 것인지????

SPR

## 원칙이란?

`원칙` -> 지키면 좋은 것이고, 이정표로 삼을 만한 사항
`법칙` -> 원칙에 우선하는 것으로, 진리임을 의심할 여지가 없는 것.

## SOLID `원칙`의 대전제가 되는 콘웨이 `법칙`

대전제가 존재한다는 사실을 전혀 몰랐다.

콘웨이 법칙이 뭘까?

> “소프트웨어 구조는 해당 소프트웨어를 개발한 조직의 커뮤니케이션 구조를 닮게 된다.” - 콘웨이

예를 들어,

- 작은 분산된 팀으로 구성된 조직은 모듈화된 서비스 아키텍처를 가지고 있을 가능성이 높고,
- 보다 덩치가 큰 팀들로 구성된 조직은 모놀리식 아키텍처를 적용하고 있을 가능성이 높다.

## SRP - 무엇을 위한 원칙일까?

SRP를 글에서는 콘웨이 법칙에 입각해 소프트웨어 구조를 조직의 커뮤니케이션 구조와 유사하게 만들 수 있도록 도와주는 원칙이라고 함.

저자는 SRP를 가장 중요한 원칙으로 여기며 다른 원칙들은 SRP를 만족시키기 위한 sub 원칙 느낌으로 해석한다고 함.

보통 SRP의 `Responsibility - 책임`을 너무 단편적으로 해석해서 컴포넌트나 함수를 정말 하나의 `동작`만을 수행하는 단위로 쪼개는데, 이는 기준도 애매할 뿐더라 너무 과하게 쪼개질 수 있다는 점을 지적한다.
-> 이 부분은 나도 똑같이 고민했던 부분이라 굉장히 공감되었다. 하나의 `동작`을 무엇이라고 정의할 것이며, 정말 하나씩 쪼개다보면 함수가 너무 여러 함수들로 구성되는 코드가 작성되어서 오히려 코드를 해석하는 피로도가 올라가는 경우가 생겼음.
-> 엥 근데 내가 글을 잘못 읽었다. 나는 함수/컴포넌트 둘 다 적용되는 원칙이라고 생각했는데 저자는 이렇게 동작 기준으로 쪼개는 것은 컴포넌트가 아니라 함수에 한정해서 그렇게 해야한다고 함.
-> 흠...근데 그래도 나는 함수도 뭔가 너무 동작 단위로 쪼개면 안된다고 생각을 하긴 하는데... 함수형 프로그래밍 관점에서 보면 내 생각이 어떤 부분을 놓치고 있을려나..

`SRP로 도달할 수 있는 아키텍처 영역이라기보다는 클린코드의 영역`..이라는 표현도 좀 느끼는 점이 있다.

아키텍처 영역이라기보다는 클린코드의 영역이다라...아키텍처와 클린코드를 분리해서 생각해볼 수 있다는 생각조차 해보지 못했는데 새롭게 배우는 점이 있네.

글에서 컴포넌트 및 컴포넌트 구조와 관련해서 집중하고자 하는 SRP의 측면은 `책임`이라는 것을 무엇이라고 볼 것인가이다. 소프트웨어 내부에 있는 `동작`이나 `논리`가 아니라 조직간 커뮤니케이션 영역으로 봐야한다는 것.

그래서 SRP 원칙을 지킨다는 것을 컴포넌트를 설계할 때, 요구사항을 전달하는 책무 단위로 설계하는 것이라고 함. 흠 무슨 뜻일지 아직 딱 와닿지는 않네..

## 책무 기반 컴포넌트 설계.

어떤 영역들이 있는지 파악하기.
각 영역의 요구사항 명확하게 파악하기.
파악한 정보를 기준으로 영역을 구분해 의존성 없는 독립적인 컴포넌트로 만들어 각 책무의 요구사항 변경에도 사이드이펙트 없이 유연하게 대처할 수 있도록 설계하고 구현하기 -> `key point`

SRP는 이런 지향점에 도달하기 쉽게 해주는 패턴이라는데...사실 위에서 언급한 지향점 자체가 SRP아닌가? 어떻게 SRP를 활용해서 위 구조에 도달할 수 있다는 것인지 이해가 잘 안됨.

## 배운 점

- SOLID는 원칙이며, 원칙과 법칙은 다르다. SOLID는 콘웨이 법칙을 대전제로 한다.
- 좋은 코드와 소프트웨어를 작성하기 위한 여러 원칙들을 2가지 관점에서 볼 수 있다. 아키텍처 영역과 클린코드의 영역. 어떤 원칙을 어떻게 해석했을 때 어떤 영역에 속하는가.
